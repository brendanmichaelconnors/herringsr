# West Coast of Vancouver Island diagnostics

This section contains Markov chain Monte Carlo (MCMC) diagnostics for the
statistical catch-age model in the West Coast of Vancouver Island major stock assessment region.
The MCMC run had chain length `r mcmc_length`
with a sample taken every `r f(mcmc_samp_freq)`^th^ iteration.
The first `r f(mcmc_burnin)` samples were discarded (burn-in), 
leaving `r f(mcmc_num_samples-mcmc_burnin)` samples for posteriors.
These diagnostics will not be included in the final document.

(ref:wcvi-priors-posts-cap) Prior probability distributions (lines) with
comparative posterior histograms (bars) used in the West Coast of Vancouver Island major stock assessment region.
See Table \@ref(tab:hg-parameter-est) and Figure \@ref(fig:hg-priors-posts) for description.

(ref:wcvi-priors-posts-cap-fr) Distributions de probabilité a priori (lignes)
et histogrammes a posteriori comparatifs (barres) utilisés dans la région d’évaluation des stocks majeur de la côte ouest de l’île de Vancouver.
Voir le tableau \@ref(tab:hg-parameter-est) et la figure \@ref(fig:hg-priors-posts) pour la description.

```{r wcvi-priors-posts, fig.cap=ifelse(french, "(ref:wcvi-priors-posts-cap-fr)", "(ref:wcvi-priors-posts-cap)")}
model_ind <- match(en2fr("WCVI", french), major_regions_short)
make.priors.posts.plot(major_models[[model_ind]],
                       priors.only = FALSE)
```

(ref:wcvi-traces-cap) Trace plots for Markov chain Monte Carlo output of
estimated parameters for the West Coast of Vancouver Island major stock assessment region.
See Table \@ref(tab:hg-parameter-est) and Figure \@ref(fig:hg-traces) for description.

(ref:wcvi-traces-cap-fr) Tracés des résultats de simulation Monte Carlo par chaîne de Markov pour les paramètres estimés
dans la région d’évaluation des stocks majeur de la côte ouest de l’île de Vancouver.
Voir le tableau \@ref(tab:hg-parameter-est) et la figure \@ref(fig:hg-traces) pour la description.

```{r wcvi-traces, fig.asp=1, fig.cap=ifelse(french, "(ref:wcvi-traces-cap-fr)", "(ref:wcvi-traces-cap)")}
make.traces.plot(major_models[[model_ind]],
                 axis.lab.freq = 200)
```

(ref:wcvi-autocor-cap) Auto-correlation plots for Markov chain Monte Carlo output of
estimated parameters for the West Coast of Vancouver Island major stock assessment region.
See Table \@ref(tab:hg-parameter-est) and Figure \@ref(fig:hg-traces) for description.

(ref:wcvi-autocor-cap-fr) Diagrammes d’autocorrélation des résultats de simulation Monte Carlo par chaîne de Markov pour les
paramètres estimés dans la région d’évaluation des stocks majeur de la côte ouest de l’île de Vancouver.
Voir le tableau \@ref(tab:hg-parameter-est) et la figure \@ref(fig:hg-traces) pour la description.

```{r wcvi-autocor, fig.asp=1, fig.cap=ifelse(french, "(ref:wcvi-autocor-cap-fr)", "(ref:wcvi-autocor-cap)")}
make.autocor.plot(major_models[[model_ind]])
```

(ref:wcvi-pairs-cap) Pairs plots for Markov chain Monte Carlo output of
estimated parameters for the West Coast of Vancouver Island major stock assessment region.
See Table \@ref(tab:hg-parameter-est) and Figure \@ref(fig:hg-traces) for description.

(ref:wcvi-pairs-cap-fr) French caption.

```{r wcvi-pairs, fig.asp=1, fig.cap=ifelse(french, "(ref:wcvi-pairs-cap-fr)", "(ref:wcvi-pairs-cap)")}
make.pairs.plot(major_models[[model_ind]])
```

(ref:wcvi-biomass-retro-cap) Maximum posterior density spawning biomass
with retrospectives for the West Coast of Vancouver Island major stock assessment region.

(ref:wcvi-biomass-retro-cap-fr) French caption.

```{r wcvi-biomass-retro, fig.cap=ifelse(french, "(ref:wcvi-biomass-retro-cap-fr)", "(ref:wcvi-biomass-retro-cap)")}
biomass.plot.mpd(major_models[[model_ind]],
                 xlim = c(1972, assess_yr))
```
